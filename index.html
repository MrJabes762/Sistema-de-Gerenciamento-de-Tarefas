<!DOCTYPE html><html><head>
      <title>index</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
.markdown-preview.markdown-preview p,
.markdown-preview.markdown-preview li,
.markdown-preview.markdown-preview dd {
  text-align: justify;
  hyphens: auto;
}
.markdown-preview.markdown-preview body {
  counter-reset: figures;
  counter-reset: tables;
}
.markdown-preview.markdown-preview figure {
  counter-increment: figures;
  text-align: center;
}
.markdown-preview.markdown-preview figcaption {
  font-style: normal;
  font-weight: bold;
  display: inherit;
  text-align: center;
  font-size: 90%;
}
.markdown-preview.markdown-preview figcaption:before {
  content: 'Figura ' counter(figures) ' - ';
}
.markdown-preview.markdown-preview table {
  counter-increment: tables;
  display: table;
  margin-left: auto;
  margin-right: auto;
}
.markdown-preview.markdown-preview table > caption {
  font-style: normal;
  font-weight: bold;
  caption-side: top;
  text-align: center;
  font-size: 90%;
  background: none;
  border-bottom: none;
  color: #172b4d;
}
.markdown-preview.markdown-preview table > caption:before {
  content: 'Tabela ' counter(tables) ' - ';
}

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="framework-para-construção-de-tabuleiros">Framework para construção de tabuleiros </h1>
<h2 id="padrões-comportamentais">Padrões Comportamentais </h2>
<h3 id="command">Command </h3>
<h4 id="intenção">Intenção </h4>
<p>encapsular uma requisão como um objeto, assim pode-se parametrizar clientes com diferentes requisições, enfileirar ou registrar requisições e suportar operações de desfazer/refazer.</p>
<h4 id="motivação-sem-o-padrão">Motivação sem o Padrão </h4>
<p>Sem o uso do padrão, o código do cliente ficaria responsável por saber como executar cada ação, como mover a peça. Isso geraria alto acoplamento pois o cliente teria que conhecer detalhes do tabuleiro e das peças. Haveria dificuldade em desfazer e refazer pois não teria um mecanismo simples para registrar e reverter ações.</p>
<h5 id="exemplo-sem-o-command">Exemplo sem o command: </h5>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token comment">// Cliente faz tudo manualmente</span>
tabuleiro<span class="token punctuation">.</span><span class="token function">moverPeca</span><span class="token punctuation">(</span>origem<span class="token punctuation">,</span> destino<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Para desfazer, teria que saber como reverter:</span>
tabuleiro<span class="token punctuation">.</span><span class="token function">moverPeca</span><span class="token punctuation">(</span>destino<span class="token punctuation">,</span> origem<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h5 id="uml-sem-o-command">UML sem o Command </h5>
<p><img src="../out/DiagramasIMG/TabuleiroSemCommand.png" alt="out/DiagramasIMG/TabuleiroSemCommand.png"></p>
<h4 id="motivação-com-o-padrão">Motivação com o Padrão </h4>
<p>No nosso projeto o Command é aplicadado na manipulação de ações do tabuleiro, como mover peças. Assim o código que solicita a ação não precisa saber vomo ela é executada. A interface Command define os métodos que são implementados pela classe MevePieceCommand.</p>
<h5 id="definição-da-regra-para-comandos">Definição da regra para comandos: </h5>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-package">package</span> <span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>padroes<span class="token punctuation">.</span>comportamentais<span class="token punctuation">.</span>command</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">undo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h5 id="encapsulamento-da-ação-de-mover-uma-peça-no-tabuleiro">Encapsulamento da ação de mover uma peça no tabuleiro: </h5>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-package">package</span> <span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>padroes<span class="token punctuation">.</span>comportamentais<span class="token punctuation">.</span>command</span><span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>game<span class="token punctuation">.</span></span><span class="token class-name">Posicao</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>game<span class="token punctuation">.</span></span><span class="token class-name">Tabuleiro</span></span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">MovePieceCommand</span> <span class="token keyword keyword-implements">implements</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">Tabuleiro</span> tabuleiro<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">Posicao</span> origem<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">Posicao</span> destino<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">MovePieceCommand</span><span class="token punctuation">(</span><span class="token class-name">Tabuleiro</span> tabuleiro<span class="token punctuation">,</span> <span class="token class-name">Posicao</span> origem<span class="token punctuation">,</span> <span class="token class-name">Posicao</span> destino<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>tabuleiro <span class="token operator">=</span> tabuleiro<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>origem <span class="token operator">=</span> origem<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>destino <span class="token operator">=</span> destino<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        tabuleiro<span class="token punctuation">.</span><span class="token function">moverPeca</span><span class="token punctuation">(</span>origem<span class="token punctuation">,</span> destino<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">undo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        tabuleiro<span class="token punctuation">.</span><span class="token function">moverPeca</span><span class="token punctuation">(</span>destino<span class="token punctuation">,</span> origem<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>O <em>Tabuleiro</em> executa a lógica real de movimentação:</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code>   <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">moverPeca</span><span class="token punctuation">(</span><span class="token class-name">Posicao</span> origem<span class="token punctuation">,</span> <span class="token class-name">Posicao</span> destino<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">getProxySecurityInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">moverPeca</span><span class="token punctuation">(</span>origem<span class="token punctuation">,</span> destino<span class="token punctuation">,</span> <span class="token function">getCasas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Casa</span> casaDestino <span class="token operator">=</span> <span class="token function">getCasas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>destino<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Casa</span> casaOrigem <span class="token operator">=</span> <span class="token function">getCasas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>origem<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Peca</span> pecaMovida <span class="token operator">=</span> casaOrigem<span class="token punctuation">.</span><span class="token function">getPeca</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        casaDestino<span class="token punctuation">.</span><span class="token function">setPeca</span><span class="token punctuation">(</span>pecaMovida<span class="token punctuation">)</span><span class="token punctuation">;</span>
        casaOrigem<span class="token punctuation">.</span><span class="token function">setPeca</span><span class="token punctuation">(</span><span class="token keyword keyword-null">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">notificarObservadores</span><span class="token punctuation">(</span><span class="token string">"peça movida: "</span> <span class="token operator">+</span> origem<span class="token punctuation">.</span><span class="token function">getLinha</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> origem<span class="token punctuation">.</span><span class="token function">getColuna</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" para "</span> <span class="token operator">+</span> destino<span class="token punctuation">.</span><span class="token function">getLinha</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> destino<span class="token punctuation">.</span><span class="token function">getColuna</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><h5 id="uml-com-o-command">UML com o Command </h5>
<p><img src="../out/DiagramasIMG/TabuleiroComCommand.png" alt="out/DiagramasIMG/TabuleiroComCommand.png"></p>
<h4 id="participantes">Participantes: </h4>
<ol>
<li>Command (interface Command):
<ul>
<li>declara uma interface para a execução de uma operação.</li>
</ul>
</li>
<li>ConcreteCommand (classe MovePieceCommand)
<ul>
<li>define uma vinculação entre um objeto Receiver e uma ação;</li>
<li>implementa  Execute() e undo()  através  da  invocação  da(s)  correspondente(s)<br>
operação(ões) no Receiver.</li>
</ul>
</li>
<li>Receiver (classe Tabuleiro):
<ul>
<li>cria um objeto ConcreteCommand e estabelece o seu receptor.</li>
</ul>
</li>
<li>Invoker:</li>
<li>Client (Tauleiro Selva):
<ul>
<li>sabe como executar as operações associadas a uma solicitação. Qualquer<br>
classe pode funcionar como um Receiver.</li>
</ul>
</li>
</ol>
<h3 id="memento">Memento </h3>
<h4 id="intenção-1">Intenção </h4>
<p>sem violar o encapsulamento, captura e externaliza o estado interno de um objeto, assim, depois ele pode ser restaurado para esse estado.</p>
<h4 id="motivação-sem-o-memento">Motivação sem o Memento </h4>
<p>Sem o uso do padrão, para implementar ações de desfazer ou refazer seria necessário manipular diretamente o estado interno do <em>Tabuleiro</em> levando a quebra do encapsulamento já que outras classes precisariam acessar e modiicar os atributos internos de <em>Tabuleiro</em>.</p>
<h5 id="exemplo-de-como-ficaria-a-manipulação-direta">Exemplo de como ficaria a manipulação direta </h5>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token comment">//lista para armazenar snapshots manuais do estado</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">Posicao</span><span class="token punctuation">,</span> <span class="token class-name">Casa</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> historicoCasas <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Antes de cada jogada, salva manualmente o estado atual</span>
historicoCasas<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>tabuleiro<span class="token punctuation">.</span><span class="token function">getCasas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Para desfazer, restaura o último estado salvo manualmente</span>
<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>historicoCasas<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Posicao</span><span class="token punctuation">,</span> <span class="token class-name">Casa</span><span class="token punctuation">&gt;</span></span> estadoAnterior <span class="token operator">=</span> historicoCasas<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>historicoCasas<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tabuleiro<span class="token punctuation">.</span><span class="token function">getCasas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tabuleiro<span class="token punctuation">.</span><span class="token function">getCasas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">putAll</span><span class="token punctuation">(</span>estadoAnterior<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h5 id="uml-sem-o-memento">UML sem o Memento </h5>
<p><img src="../out/DiagramasIMG/TabuleiroSemMemento.png" alt="out/DiagramasIMG/TabuleiroSemMemento.png"></p>
<h4 id="motivação-com-o-memento">Motivação com o Memento </h4>
<p>Com a aplicação do Memento, o estado do <em>Tabuleiro</em> antes de cada jogada é salvo, dessa maneira, o jogador poderá desfazer ou refazer uma jogada. Ele poderá fazer isso facilmente pois outras partes do código não precisarão conhecer a estrutura interna do tabuleiro.</p>
<h5 id="a-classe-tabuleiromemento-armazena-snapshots-do-estado-do-tabuleiro">A classe <em>TabuleiroMemento</em> armazena snapshots do estado do tabuleiro </h5>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">TabuleiroMemento</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Posicao</span><span class="token punctuation">,</span> <span class="token class-name">Casa</span><span class="token punctuation">&gt;</span></span> casasSnapshot<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Time</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> pecasPorTimeSnapshot<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">TabuleiroMemento</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Posicao</span><span class="token punctuation">,</span> <span class="token class-name">Casa</span><span class="token punctuation">&gt;</span></span> casas<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Time</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> pecasPorTime<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>casasSnapshot <span class="token operator">=</span> casas<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>pecasPorTimeSnapshot <span class="token operator">=</span> pecasPorTime<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Posicao</span><span class="token punctuation">,</span> <span class="token class-name">Casa</span><span class="token punctuation">&gt;</span></span> <span class="token function">getCasasSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> casasSnapshot<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Time</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token function">getPecasPorTimeSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> pecasPorTimeSnapshot<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h5 id="tabuleiro-cria-e-restaura-mementos">Tabuleiro cria e restaura mementos </h5>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code>    <span class="token keyword keyword-public">public</span> <span class="token class-name">TabuleiroMemento</span> <span class="token function">criarMemento</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">TabuleiroMemento</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>casas<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>pecasPorTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">restaurarMemento</span><span class="token punctuation">(</span><span class="token class-name">TabuleiroMemento</span> memento<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">setCasas</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>memento<span class="token punctuation">.</span><span class="token function">getCasasSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setPecasPorTime</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>memento<span class="token punctuation">.</span><span class="token function">getPecasPorTimeSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><h5 id="o-historicotabuleiro-armazena-e-gerencia-os-mementos">O <em>HistoricoTabuleiro</em> armazena e gerencia os mementos </h5>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-package">package</span> <span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>padroes<span class="token punctuation">.</span>comportamentais<span class="token punctuation">.</span>memento</span><span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Stack</span></span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">HistoricoTabuleiro</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TabuleiroMemento</span><span class="token punctuation">&gt;</span></span> desfazer <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TabuleiroMemento</span><span class="token punctuation">&gt;</span></span> refazer <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">salvar</span><span class="token punctuation">(</span><span class="token class-name">TabuleiroMemento</span> memento<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        desfazer<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>memento<span class="token punctuation">)</span><span class="token punctuation">;</span>
        refazer<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">TabuleiroMemento</span> <span class="token function">desfazer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>desfazer<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">TabuleiroMemento</span> memento <span class="token operator">=</span> desfazer<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            refazer<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>memento<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> memento<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword keyword-public">public</span> <span class="token class-name">TabuleiroMemento</span> <span class="token function">refazer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>refazer<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">TabuleiroMemento</span> memento <span class="token operator">=</span> refazer<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            desfazer<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>memento<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> memento<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-boolean">boolean</span> <span class="token function">temDesfazer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token operator">!</span>desfazer<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-boolean">boolean</span> <span class="token function">temRefazer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token operator">!</span>refazer<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h5 id="uml-com-memento">UML com memento </h5>
<p><img src="../out/DiagramasIMG/TabuleiroMemento.png" alt="out/DiagramasIMG/TabuleiroMemento.png">&gt;</p>
<h4 id="participantes-1">Participantes </h4>
<ol>
<li>Memento: TabuleiroMemento -&gt; armazena o estaod interno do <em>Tabueleiro</em> para que possa ser posteriormente restaurado;</li>
<li>Originator: Tabuleiro -&gt; cria um <em>TabueliroMemento</em> com seu estado atual e pode restaurar seu estado a partir de um memento.</li>
<li>Caretaker: HistoricoTabuleiro -&gt; gerencia os mementos criados pelo Tabuleiro para desfazer/refazer;</li>
</ol>
<h3 id="observer">Observer </h3>
<h4 id="intenção--">Intenção - </h4>
<p>Define uma dependência um-para-muitos entre objetos, para que quando um objeto mudar seu estado todos os seus <strong>dependentes</strong> são notificados e atualizados automaticamente. Isso promove o princípio <strong>aberto/fechado (open/closed)</strong>, já que permite adicionar novos observadores sem modificar o sujeito.</p>
<h4 id="motivação-sem-o-observer--">Motivação sem o Observer - </h4>
<p>Sem o uso do Observer a implementação do monitoramento e observação teria que ser direto no <em>Tabuleiro</em>, assim, ele precisaria conhecer todas as classes que dependem de mudanças no estado do jogo, como a de VitoriaDerrotaObserver e Peca. Adicionar novas classes que precisariam ser notificadas resultaria na modificação da classe <em>Tabuleiro</em> violando o princípio <strong>open/closed</strong>. , o Tabuleiro teria que conhecer e manipular diretamente todas as peças e suas reações a eventos</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-package">package</span> <span class="token namespace">br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>xadrez<span class="token punctuation">.</span>board</span><span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>xadrez<span class="token punctuation">.</span>pieces<span class="token punctuation">.</span></span><span class="token class-name">Peca</span></span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Tabuleiro</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">Peca</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pecas<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-int">int</span> pecasBrancas<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-int">int</span> pecasPretas<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">Tabuleiro</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        pecas <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Peca</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        pecasBrancas <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span>
        pecasPretas <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">removerPeca</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Peca</span> peca <span class="token operator">=</span> pecas<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>peca <span class="token operator">!=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>peca<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Branco"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                pecasBrancas<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>peca<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Preto"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                pecasPretas<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            pecas<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">;</span>

            <span class="token comment">// verificação de vitória diretamente no Tabuleiro</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>pecasBrancas <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Time Preto venceu!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>pecasPretas <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Time Branco venceu!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h5 id="uml-sem-o-observer--">UML sem o Observer - </h5>
<p><img src="../out/DiagramasIMG/VitoriaDerrotaSemObserver.png" alt="out/DiagramasIMG/VitoriaDerrotaSemObserver.png">&gt;</p>
<h4 id="motivação-no-contexto-do-tabuleiro--">Motivação no contexto do Tabuleiro - </h4>
<p>Com o uso do Observer, o <em>Tabuleiro</em> notifica automaticamente os observadores (<em>vitoriaDerrotaObserver</em>, <em>Peca</em>) sobre eventos importantes. As peças implementam a interface Observer, assim elas são registradas como observadores do <em>Tabuleiro</em>. Quando uma ação acontece, o <em>Tabuleiro</em> chama o método <strong>notificarObservadores(evento)</strong> que percorre todos os observadores e chama o <strong>update(evento)</strong>.</p>
<h5 id="tabuleiro-mantém-e-notifica-os-observers">Tabuleiro mantém e notifica os Observers </h5>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code>   <span class="token keyword keyword-private">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Observer</span><span class="token punctuation">&gt;</span></span> observadores <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">adicionarObservador</span><span class="token punctuation">(</span><span class="token class-name">Observer</span> observador<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        observadores<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>observador<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">removerObservador</span><span class="token punctuation">(</span><span class="token class-name">Observer</span> observador<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        observadores<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>observador<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">notificarObservadores</span><span class="token punctuation">(</span><span class="token class-name">String</span> evento<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name">Observer</span> observador <span class="token operator">:</span> observadores<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            observador<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>evento<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><h5 id="peças-implementam-o-observer">Peças implementam o Observer </h5>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code>    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">String</span> evento<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Peça"</span> <span class="token operator">+</span> <span class="token function">getNome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" recebeu notificação: "</span> <span class="token operator">+</span> evento<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>evento<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"peça movida"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> partes <span class="token operator">=</span> evento<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">":"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> posicoes <span class="token operator">=</span> partes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">" para "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Posicao</span> origem <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Posicao</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>posicoes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>posicoes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Posicao</span> destino <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Posicao</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>posicoes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>posicoes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Movimento detectado de "</span> <span class="token operator">+</span> origem <span class="token operator">+</span> <span class="token string">" para "</span> <span class="token operator">+</span> destino<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><h5 id="tabuleiro-notifica-as-peças-e-outros-observers">Tabuleiro notifica as Peças e outros Observers </h5>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code>    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">moverPeca</span><span class="token punctuation">(</span><span class="token class-name">Posicao</span> origem<span class="token punctuation">,</span> <span class="token class-name">Posicao</span> destino<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">getProxySecurityInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">moverPeca</span><span class="token punctuation">(</span>origem<span class="token punctuation">,</span> destino<span class="token punctuation">,</span> <span class="token function">getCasas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Casa</span> casaDestino <span class="token operator">=</span> <span class="token function">getCasas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>destino<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Casa</span> casaOrigem <span class="token operator">=</span> <span class="token function">getCasas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>origem<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Peca</span> pecaMovida <span class="token operator">=</span> casaOrigem<span class="token punctuation">.</span><span class="token function">getPeca</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        casaDestino<span class="token punctuation">.</span><span class="token function">setPeca</span><span class="token punctuation">(</span>pecaMovida<span class="token punctuation">)</span><span class="token punctuation">;</span>
        casaOrigem<span class="token punctuation">.</span><span class="token function">setPeca</span><span class="token punctuation">(</span><span class="token keyword keyword-null">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">notificarObservadores</span><span class="token punctuation">(</span><span class="token string">"peça movida: "</span> <span class="token operator">+</span> origem<span class="token punctuation">.</span><span class="token function">getLinha</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> origem<span class="token punctuation">.</span><span class="token function">getColuna</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" para "</span> <span class="token operator">+</span> destino<span class="token punctuation">.</span><span class="token function">getLinha</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> destino<span class="token punctuation">.</span><span class="token function">getColuna</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><h5 id="vitoriaderrotaobserver-implementa-a-interface-observer-e-é-registrado-como-observador-de-tabuleiro"><em>VitoriaDerrotaObserver</em> implementa a interface Observer e é registrado como observador de <em>Tabuleiro</em>. </h5>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-package">package</span> <span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>padroes<span class="token punctuation">.</span>comportamentais<span class="token punctuation">.</span>observer</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">String</span> evento<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">VitoriaDerrotaObserver</span> <span class="token keyword keyword-implements">implements</span> <span class="token class-name">Observer</span><span class="token punctuation">,</span> <span class="token class-name">CondicaoDeVitoria</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><h5 id="o-vitoriaderrotaobserver-é-acionado-à-lista-de-observadores-do-tabuleiro">O <em>VitoriaDerrotaObserver</em> é acionado à lista de observadores do <em>Tabuleiro</em> </h5>
<h5 id="uml-com-o-observer--">UML com o Observer - </h5>
<p><img src="../out/DiagramasIMG/estruturaVitoriaDerrotaObserver.png" alt="out/DiagramasIMG/estruturaVitoriaDerrotaObserver.png">&gt;</p>
<h4 id="participantes--">Participantes - </h4>
<ol>
<li><strong>Subject:</strong> Tabuleiro -&gt; ele é o objeto observado, mantém uma lista de observadores e notifica-os sobre mudanças no estado do jogo;</li>
<li><strong>Observer:</strong> interface Observer -&gt; ela define o as regras para objetos que desejam ser notificados sobre as mudanças.</li>
<li><strong>ConcreteObserver:</strong> VitoriaDerrotaObserver, Peca -&gt; implementa a interface Observer e reage as notificações do <em>Tabuleiro</em>.</li>
</ol>
<h3 id="state">State </h3>
<h4 id="intenção-2">Intenção </h4>
<p>Permitir que um objeto altere seu comportamento quando seu estado interno muda. Ele encapsula os possíveis estados de um objeto em <em>classes separadas</em> promovendo a separação de responsabilidades.</p>
<h4 id="motivação-sem-o-state">Motivação sem o State </h4>
<p>Sem a aplicação do pasrão o comportamento do objeto setia controlado por grandes estruturas de if-else ou switch-case que verificariam o estado atual pra decidir o que fazer. Toda lógica de estados estaria concentrada em apenas uma classe dificultando</p>
<h5 id="exemplo-de-código-sem-o-padrão-state">Exemplo de código sem o padrão State </h5>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token comment">// Exemplo sem o padrão State</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Jogo</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">String</span> estado <span class="token operator">=</span> <span class="token string">"INICIADO"</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">iniciarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token string">"INICIADO"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>estado<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"O jogo já está iniciado."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token string">"PAUSADO"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>estado<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            estado <span class="token operator">=</span> <span class="token string">"INICIADO"</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Jogo retomado."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token string">"FINALIZADO"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>estado<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Não é possível iniciar, o jogo já foi finalizado."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">pausarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token string">"INICIADO"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>estado<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            estado <span class="token operator">=</span> <span class="token string">"PAUSADO"</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Jogo pausado."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Não é possível pausar neste estado: "</span> <span class="token operator">+</span> estado<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">finalizarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token string">"FINALIZADO"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>estado<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            estado <span class="token operator">=</span> <span class="token string">"FINALIZADO"</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Jogo finalizado."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"O jogo já está finalizado."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h5 id="uml-sem-o-padrão">UML sem o padrão </h5>
<p><img src="../out/DiagramasIMG/semState.png" alt="out/DiagramasIMG/semState.png"></p>
<h4 id="motivação-com-o-state">Motivação com o State </h4>
<p>O padrão State é utilizado no projeto para controlar o comportamento do jogo conforme o seu estado atual (iniciado, pausado, finalizado, etc.), evitando o uso de grandes estruturas condicionais e promovendo a separação de responsabilidades.</p>
<h5 id="implementação-no-framework">Implementação no framework </h5>
<p>Objeto principal que representa o contexto do jogo é a classe ContextoJogo</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-package">package</span> <span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>padroes<span class="token punctuation">.</span>comportamentais<span class="token punctuation">.</span></span><span class="token class-name">State</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">ContextoJogo</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">EstadoJogo</span> estadoAtual<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">ContextoJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>estadoAtual <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">EstadoIniciado</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">setEstadoAtual</span><span class="token punctuation">(</span><span class="token class-name">EstadoJogo</span> novoEstado<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>estadoAtual <span class="token operator">=</span> novoEstado<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">iniciarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        estadoAtual<span class="token punctuation">.</span><span class="token function">iniciarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">pausarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        estadoAtual<span class="token punctuation">.</span><span class="token function">pausarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">reiniciarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        estadoAtual<span class="token punctuation">.</span><span class="token function">reiniciarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">finalizarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        estadoAtual<span class="token punctuation">.</span><span class="token function">finalizarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">EstadoJogo</span> <span class="token function">getEstadoAtual</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> estadoAtual<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><p>O estado atual do jogo é representado pela interface EstadoJogo e suas implementações concretas EstadoIniciado, EstadoPausado e EstadoFinalizado.</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-package">package</span> <span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>padroes<span class="token punctuation">.</span>comportamentais<span class="token punctuation">.</span></span><span class="token class-name">State</span><span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>game<span class="token punctuation">.</span></span><span class="token class-name">Tabuleiro</span></span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">EstadoJogo</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">iniciarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">pausarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">finalizarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">reiniciarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><h5 id="uml-com-o-padrão">UML com o padrão </h5>
<p><img src="../out/DiagramasIMG/StatePattern.png" alt="out/DiagramasIMG/StatePattern.png"></p>
<h4 id="participantes-2">Participantes </h4>
<ol>
<li><strong>State:</strong> EstadoJogo -&gt; Interface que define as operações para os diferentes estados do jogo.</li>
<li><strong>ConcreteState:</strong> Estados concretos -&gt; Implementações concretas da interface EstadoJogo, cada uma representando um estado do jogo.</li>
<li><strong>Context:</strong> ContextoJogo -&gt; Classe que mantém uma referência para o estado atual e delega as operações para o estado corrente.</li>
<li><strong>Client:</strong> Tabuleiro/TabuleiroProxySecurity -&gt; Classes que utilizam o ContextoJogo para controlar o fluxo do jogo, delegando as operações de estado.</li>
</ol>
<h3 id="strategy">Strategy </h3>
<h4 id="intenção---1">Intenção - </h4>
<p>Definir uma família de algoritmos em classes separadas para que seus objetos sejam intercambiáveis.</p>
<h4 id="motivação-sem-o-padrão--">Motivação sem o Padrão - </h4>
<p>Sem o uso do Strategy a implementação de movimento de peças teria que ser diretamente na classe <em>Peça</em>. Isso reduz a flexibilidade já que toda lógica de movimento de diferentes peças estaria centralizada em uma única classe, assim, não seria possível reutiliar a lógica em outro contexto sem a duplicação do código. Para adicionar novas peças ou até mesmo alterar a lógica do movimento, teriamos que modificar a classe <em>Peça</em> violando o princípio <strong>Open/Closed</strong> - aberto para extensão e fechado para modificação.</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-package">package</span> <span class="token namespace">br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>xadrez<span class="token punctuation">.</span>pecas</span><span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Peca</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">String</span> tipo<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">Peca</span><span class="token punctuation">(</span><span class="token class-name">String</span> tipo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>tipo <span class="token operator">=</span> tipo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">calcularMovimentosPossiveis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> movimentos <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-switch">switch</span> <span class="token punctuation">(</span>tipo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-case">case</span> <span class="token string">"Rei"</span><span class="token operator">:</span>
                <span class="token comment">// Lógica de movimento do Rei</span>
                movimentos<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Movimento do Rei"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-case">case</span> <span class="token string">"Rainha"</span><span class="token operator">:</span>
                movimentos<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Movimento da Rainha"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-case">case</span> <span class="token string">"Bispo"</span><span class="token operator">:</span>
                movimentos<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Movimento do Bispo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-default">default</span><span class="token operator">:</span>
                <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">"Tipo de peça desconhecido: "</span> <span class="token operator">+</span> tipo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-return">return</span> movimentos<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h5 id="uml-sem-o-strategy--">UML sem o Strategy - </h5>
<p><img src="../out/DiagramasIMG/estruturaPecaSemStrategy.png" alt="out/DiagramasIMG/estruturaPecaSemStrategy.png"></p>
<h4 id="motivação-no-contexto-do-tabuleiro">Motivação no contexto do Tabuleiro </h4>
<p>Aqui, o strategy é usado para definir diferentes estratégias de movimento para as peças. Cada peça pode ter sua própria lógica de movimento. A interface <em>MovimentoStrategy</em> define o método <em>calcularMovimentosPossiveis</em> que é implementado por classes específicas para cada tipo de peça.</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-package">package</span> <span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>padroes<span class="token punctuation">.</span>comportamentais<span class="token punctuation">.</span>strategy</span><span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>game<span class="token punctuation">.</span></span><span class="token class-name">Posicao</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>game<span class="token punctuation">.</span></span><span class="token class-name">Tabuleiro</span></span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">MovimentoStrategy</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Posicao</span><span class="token punctuation">&gt;</span></span> <span class="token function">calcularMovimentosPossiveis</span><span class="token punctuation">(</span><span class="token class-name">Posicao</span> posicaoAtual<span class="token punctuation">,</span> <span class="token class-name">Tabuleiro</span> tabuleiro<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>exemplo de aplicação para uma peça:</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-package">package</span> <span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>xadrez<span class="token punctuation">.</span>movement</span><span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>xadrez<span class="token punctuation">.</span>board<span class="token punctuation">.</span></span><span class="token class-name">Posicao</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>xadrez<span class="token punctuation">.</span>board<span class="token punctuation">.</span>tabuleiro<span class="token punctuation">.</span>singletonEProxySecurity<span class="token punctuation">.</span></span><span class="token class-name">Tabuleiro</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">MovimentoRei</span> <span class="token keyword keyword-implements">implements</span> <span class="token class-name">MovimentoStrategy</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Posicao</span><span class="token punctuation">&gt;</span></span> <span class="token function">calcularMovimentosPossiveis</span><span class="token punctuation">(</span><span class="token class-name">Posicao</span> posicaoAtual<span class="token punctuation">,</span> <span class="token class-name">Tabuleiro</span> tabuleiro<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Posicao</span><span class="token punctuation">&gt;</span></span> movimentos <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> movimentos<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h5 id="uml-com-strategy--">UML com Strategy - </h5>
<p><img src="../out/DiagramasIMG/estruturaPeca.png" alt="out/DiagramasIMG/estruturaPeca.png"></p>
<h4 id="participantes---1">Participantes - </h4>
<ol>
<li><strong>Strategy:</strong> MovimentoStrategy -&gt; declara o método calcularMovimentosPossiveis que é implementado por diferentes estratégias;</li>
<li><strong>ConcretStrategy:</strong> serão os métodos que implementam a interace MovimentoStrategy que criarão a lógica específica de cada peça;</li>
<li><strong>Context:</strong> Peca -&gt; contém a referência para um objeto MovimentoStrategy, delega a execução do método <em>calcularMovimentosPossiveis</em> para a estratégia associada (ConcretStrategy).</li>
</ol>
<h2 id="padrões-criacionais">Padrões Criacionais </h2>
<h3 id="builder">Builder </h3>
<h4 id="intenção-3">Intenção </h4>
<p>Separa a construção de um objeto complexo da sua representação, assim o mesmo processo de construção pode criar diferentes representações.</p>
<h4 id="motivação-sem-o-padrão-1">Motivação sem o Padrão </h4>
<p>Sem o uso do Builder, a construção de um tabuleiro ficaria centralizada em uma única classe, no caso <em>Tabuleiro</em>. Isso traria problemas como dificuladades de reutilizar partes da construção e violação do princípio de responsabilidade única, pois o <em>Tabuleiro</em> teria que saber tanto como construir quanto como se comportar dificultando a manutenção.</p>
<h5 id="exemplo-de-implementação-sem-o-builder">Exemplo de implementação sem o Builder: </h5>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-package">package</span> <span class="token namespace">br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>game</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Tabuleiro</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-int">int</span> largura<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-int">int</span> altura<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> casas<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pecas<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">Tabuleiro</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> largura<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> altura<span class="token punctuation">,</span> <span class="token keyword keyword-boolean">boolean</span> xadrez<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>largura <span class="token operator">=</span> largura<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>altura <span class="token operator">=</span> altura<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>casas <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span>largura<span class="token punctuation">]</span><span class="token punctuation">[</span>altura<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>pecas <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span>largura<span class="token punctuation">]</span><span class="token punctuation">[</span>altura<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token function">criarCasas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>xadrez<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">posicionarPecasXadrez</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-void">void</span> <span class="token function">criarCasas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> largura<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> altura<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                casas<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">+</span> j<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"branca"</span> <span class="token operator">:</span> <span class="token string">"preta"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-void">void</span> <span class="token function">posicionarPecasXadrez</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Lógica fixa para posicionar peças de xadrez</span>
        pecas<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"torre preta"</span><span class="token punctuation">;</span>
        pecas<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"cavalo preto"</span><span class="token punctuation">;</span>
        pecas<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"torre branca"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h5 id="uml-sem-builder">UML sem builder </h5>
<p><img src="../out/DiagramasIMG/TabuleiroSemBuilder.png" alt="out/DiagramasIMG/TabuleiroSemBuilder.png"></p>
<h4 id="motivação-com-o-padrão-1">Motivação com o Padrão </h4>
<p>no projeto, o Builder é usado para permitir a construção flexível de diferentes tipos de tabuleiros, separando o processo de construção da representação final do objeto. Isso facilita a criação de tabuleiros personalizados para diferentes jogos.</p>
<h5 id="a-interface-tabuleirobuilder-define-os-métodos-necessários-para-construir-um-tabuleiro">A interface <em>TabuleiroBuilder</em> define os métodos necessários para construir um tabuleiro: </h5>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-package">package</span> <span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>padroes<span class="token punctuation">.</span>criacionais<span class="token punctuation">.</span>builder</span><span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>game<span class="token punctuation">.</span></span><span class="token class-name">Tabuleiro</span></span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">TabuleiroBuilder</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">iniciarTabuleiro</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> largura<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> altura<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">adicionarPecas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">adicionarCasas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Tabuleiro</span> <span class="token function">getResultado</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h5 id="o-tabuleirodirector-orquestra-a-construção-do-tabuleiro-ele-chama-os-métodos-do-builder-na-ordem-correta-para-criar-o-tabuleiro">O <em>TabuleiroDirector</em> orquestra a construção do tabuleiro. Ele chama os métodos do builder na ordem correta para criar o tabuleiro: </h5>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-package">package</span> <span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>padroes<span class="token punctuation">.</span>criacionais<span class="token punctuation">.</span>builder</span><span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>game<span class="token punctuation">.</span></span><span class="token class-name">Tabuleiro</span></span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">TabuleiroDirector</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> <span class="token class-name">TabuleiroBuilder</span> builder<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">TabuleiroDirector</span><span class="token punctuation">(</span><span class="token class-name">TabuleiroBuilder</span> builder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>builder <span class="token operator">=</span> builder<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">Tabuleiro</span> <span class="token function">construir</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> largura<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> altura<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        builder<span class="token punctuation">.</span><span class="token function">iniciarTabuleiro</span><span class="token punctuation">(</span>largura<span class="token punctuation">,</span> altura<span class="token punctuation">)</span><span class="token punctuation">;</span>
        builder<span class="token punctuation">.</span><span class="token function">adicionarCasas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        builder<span class="token punctuation">.</span><span class="token function">adicionarPecas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> builder<span class="token punctuation">.</span><span class="token function">getResultado</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h5 id="uml-com-builder">UML com Builder: </h5>
<p><img src="../out/DiagramasIMG/TabuleiroBuilder.png" alt="out/DiagramasIMG/TabuleiroBuilder.png"></p>
<h4 id="participantes-3">Participantes: </h4>
<ol>
<li>
<p>Builder (TabuleiroBuilder)</p>
<ul>
<li>especifica  uma  interface  abstrata  para  criação  de  partes  de  um  objeto-<br>
produto. Nesse caso, os contratos:  iniciarTabuleiro(int largura, int altura); adicionarPecas(); e void adicionarCasas();</li>
</ul>
</li>
<li>
<p>ConcreteBuilder (Tabuleiro Buider Selva)</p>
<ul>
<li>constrói e monta partes do produto pela implementação da interface de TabuleiroBuilder;</li>
<li>define e mantém a representação que cria;</li>
<li>È a implementação concreta do framework</li>
</ul>
</li>
<li>
<p>Director (TabuleiroDirector)</p>
<ul>
<li>constrói um objeto usando a interface de Builder.</li>
</ul>
</li>
<li>
<p>Product ().</p>
<ul>
<li>representa o objeto complexo em construção. ConcreteBuilder constrói a<br>
representação  interna  do  produto  e  define  o  processo  pelo  qual  ele  é<br>
montado;</li>
<li>inclui classes que definem as partes constituintes, inclusive as interfaces<br>
para a montagem das partes no resultado final.</li>
</ul>
</li>
</ol>
<h3 id="factory">Factory </h3>
<h4 id="intenção---2">Intenção - </h4>
<p>Fornecer uma interface para criação de objetos em uma superclasse porém as subclasses cotém permissão para alterar os tipos de objetos que serao criados.</p>
<h4 id="motivação-sem-o-padrão---1">Motivação sem o Padrão - </h4>
<p>Sem o uso do Factory a criação dos objetos seria feita diretamente no código do <em>Tabuleiro</em>. O acoplamento seria grande pois o <em>Tabuleiro</em> ia precisar conhecer detalhes da implementação de cada peça. Na criação de novas peças ou até na modificação da lógica de criação a classe Tabuleiro teria que ser modificada, violando o princípio <strong>open/closed</strong>.</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Tabuleiro</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">Peca</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pecas<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">Tabuleiro</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        pecas <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Peca</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token function">inicializarPecas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-void">void</span> <span class="token function">inicializarPecas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Criando peças diretamente no Tabuleiro</span>
        pecas<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Peca</span><span class="token punctuation">(</span><span class="token string">"Rei"</span><span class="token punctuation">,</span> <span class="token class-name">Time</span><span class="token punctuation">.</span><span class="token constant">BRANCO</span><span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">MovimentoRei</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        pecas<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Peca</span><span class="token punctuation">(</span><span class="token string">"Rainha"</span><span class="token punctuation">,</span> <span class="token class-name">Time</span><span class="token punctuation">.</span><span class="token constant">BRANCO</span><span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">MovimentoRainha</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        pecas<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Peca</span><span class="token punctuation">(</span><span class="token string">"Rei"</span><span class="token punctuation">,</span> <span class="token class-name">Time</span><span class="token punctuation">.</span><span class="token constant">PRETO</span><span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">MovimentoRei</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        pecas<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Peca</span><span class="token punctuation">(</span><span class="token string">"Rainha"</span><span class="token punctuation">,</span> <span class="token class-name">Time</span><span class="token punctuation">.</span><span class="token constant">PRETO</span><span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">MovimentoRainha</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h5 id="uml-sem-factory--">UML sem Factory - </h5>
<p><img src="../out/DiagramasIMG/PecaSemDecorator.png" alt="out/DiagramasIMG/PecaSemDecorator.png"></p>
<h4 id="motivação-no-contexto-do-tabuleiro---1">Motivação no contexto do tabuleiro - </h4>
<p>Com a aplicação do Factory, a lógica de criação das peças é encapsulada em subclasses de <code>PecaFactory</code>, permitindo que novas peças sejam adicionadas sem modificar o código do Tabuleiro. O método <em>criarPeca</em> permite a criação de peças com características personalizadas.</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-package">package</span> <span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>padroes<span class="token punctuation">.</span>criacionais<span class="token punctuation">.</span>factory</span><span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>game<span class="token punctuation">.</span></span><span class="token class-name">Peca</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>padroes<span class="token punctuation">.</span>comportamentais<span class="token punctuation">.</span>strategy<span class="token punctuation">.</span></span><span class="token class-name">MovimentoStrategy</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>padroes<span class="token punctuation">.</span>criacionais<span class="token punctuation">.</span>multiton<span class="token punctuation">.</span></span><span class="token class-name">Time</span></span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">PecaFactory</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token class-name">Peca</span> <span class="token function">criarPeca</span><span class="token punctuation">(</span><span class="token class-name">String</span> tipo<span class="token punctuation">,</span> <span class="token class-name">Time</span> time<span class="token punctuation">,</span> <span class="token class-name">MovimentoStrategy</span> movimentoStrategy<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> caracteristicas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">Peca</span> <span class="token function">criarPecaGenerica</span><span class="token punctuation">(</span><span class="token class-name">String</span> nome<span class="token punctuation">,</span> <span class="token class-name">Time</span> time<span class="token punctuation">,</span> <span class="token class-name">MovimentoStrategy</span> movimentoStrategy<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> caracteristicas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Peca</span><span class="token punctuation">(</span>nome<span class="token punctuation">,</span> time<span class="token punctuation">,</span> movimentoStrategy<span class="token punctuation">,</span> caracteristicas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">String</span> evento<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// Implementação padrão, pode ser sobrescrita</span>
                <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">UnsupportedOperationException</span><span class="token punctuation">(</span><span class="token string">"Unimplemented method 'update'"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Exemplo de uma subclasse concreta:</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">AnimalFactory</span> <span class="token keyword keyword-extends">extends</span> <span class="token class-name">PecaFactory</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token class-name">Peca</span> <span class="token function">criarPeca</span><span class="token punctuation">(</span><span class="token class-name">String</span> tipo<span class="token punctuation">,</span> <span class="token class-name">Time</span> time<span class="token punctuation">,</span> <span class="token class-name">MovimentoStrategy</span> movimentoStrategy<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> caracteristicas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-switch">switch</span> <span class="token punctuation">(</span>tipo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-case">case</span> <span class="token string">"Elefante"</span> <span class="token operator">-&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Elefante</span><span class="token punctuation">(</span>tipo<span class="token punctuation">,</span> time<span class="token punctuation">,</span> movimentoStrategy<span class="token punctuation">,</span> caracteristicas<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-case">case</span> <span class="token string">"Leão"</span> <span class="token operator">-&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Leao</span><span class="token punctuation">(</span>tipo<span class="token punctuation">,</span> time<span class="token punctuation">,</span> movimentoStrategy<span class="token punctuation">,</span> caracteristicas<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// outros tipos...</span>
            <span class="token keyword keyword-default">default</span> <span class="token operator">-&gt;</span> <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">"Tipo de peça desconhecido: "</span> <span class="token operator">+</span> tipo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Uso correto no Tabuleiro:</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Tabuleiro</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">Peca</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pecas<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">PecaFactory</span> pecaFactory<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">Tabuleiro</span><span class="token punctuation">(</span><span class="token class-name">PecaFactory</span> pecaFactory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>pecaFactory <span class="token operator">=</span> pecaFactory<span class="token punctuation">;</span>
        pecas <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Peca</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token function">inicializarPecas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-void">void</span> <span class="token function">inicializarPecas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        pecas<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> pecaFactory<span class="token punctuation">.</span><span class="token function">criarPeca</span><span class="token punctuation">(</span><span class="token string">"Rei"</span><span class="token punctuation">,</span> <span class="token class-name">Time</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">"Branco"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">MovimentoRei</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pecas<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> pecaFactory<span class="token punctuation">.</span><span class="token function">criarPeca</span><span class="token punctuation">(</span><span class="token string">"Rainha"</span><span class="token punctuation">,</span> <span class="token class-name">Time</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">"Branco"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">MovimentoRainha</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pecas<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> pecaFactory<span class="token punctuation">.</span><span class="token function">criarPeca</span><span class="token punctuation">(</span><span class="token string">"Rei"</span><span class="token punctuation">,</span> <span class="token class-name">Time</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">"Preto"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">MovimentoRei</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pecas<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> pecaFactory<span class="token punctuation">.</span><span class="token function">criarPeca</span><span class="token punctuation">(</span><span class="token string">"Rainha"</span><span class="token punctuation">,</span> <span class="token class-name">Time</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">"Preto"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">MovimentoRainha</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h5 id="uml-com-factory--">UML com Factory - </h5>
<p><img src="../out/DiagramasIMG/PecaComFactory.png" alt="out/DiagramasIMG/PecaComFactory.png"></p>
<h4 id="participantes---2">Participantes - </h4>
<ol>
<li><strong>Produto:</strong> Peca -&gt; define a interface base para os objetos que serão criados;</li>
<li><strong>Factory:</strong> PecaFactory -&gt; contém o método responsável por criar as instâncias das peças.</li>
<li><strong>ConcreteFactory:</strong> AnimalFactory (ou outra) -&gt; implementa a lógica de criação específica.</li>
<li><strong>Client:</strong> Tabuleiro -&gt; classe que utiliza a fábrica para criar objetos.</li>
</ol>
<h3 id="multiton-não-gof">Multiton (Não GOF) </h3>
<h4 id="intenção---3">Intenção - </h4>
<p><sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup><br>
Permitir a criação de uma quantidade limitada de instâncias de determinada classe e fornecer um modo para recuperá-las.</p>
<h4 id="motivação-sem-o-padrão---2">Motivação sem o Padrão - </h4>
<p>Sem o multiton, o gerenciamento dos times teria que ser de forma manual com o uso de mapas para armazenar e recuperar as instâncias deles. Só que isso é menos eficiente uma vez que seria necessário acessar o mapa sempre que informações sobre um time fossem necessárias. Também não haveria garantia de unicidade para cada time podendo levar a inconsistências.</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token comment">// Exemplo sem Multiton</span>
<span class="token keyword keyword-package">package</span> <span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>xadrez<span class="token punctuation">.</span>multiton<span class="token punctuation">.</span>time</span><span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">GerenciadorTimes</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Time</span><span class="token punctuation">&gt;</span></span> times<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">GerenciadorTimes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        times <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        times<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"Branco"</span><span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Time</span><span class="token punctuation">(</span><span class="token string">"Branco"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        times<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"Preto"</span><span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Time</span><span class="token punctuation">(</span><span class="token string">"Preto"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">Time</span> <span class="token function">getTime</span><span class="token punctuation">(</span><span class="token class-name">String</span> nome<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> times<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>nome<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">adicionarTime</span><span class="token punctuation">(</span><span class="token class-name">String</span> nome<span class="token punctuation">,</span> <span class="token class-name">Time</span> time<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        times<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>nome<span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Time</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">String</span> nome<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">Time</span><span class="token punctuation">(</span><span class="token class-name">String</span> nome<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>nome <span class="token operator">=</span> nome<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">String</span> <span class="token function">getNome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> nome<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token class-name">GerenciadorTimes</span> gerenciador <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">GerenciadorTimes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Time</span> branco <span class="token operator">=</span> gerenciador<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token string">"Branco"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Time</span> preto <span class="token operator">=</span> gerenciador<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token string">"Preto"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gerenciador<span class="token punctuation">.</span><span class="token function">adicionarTime</span><span class="token punctuation">(</span><span class="token string">"Azul"</span><span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Time</span><span class="token punctuation">(</span><span class="token string">"Azul"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Possível adicionar novos times manualmente</span>
</code></pre><h5 id="uml-sem-multiton">UML sem Multiton </h5>
<p><img src="../out/DiagramasIMG/motivacao_sem_multiton.png" alt="out/DiagramasIMG/motivacao_sem_multiton.png">&gt;</p>
<h4 id="motivação-no-contexto-do-tabuleiro---2">Motivação no contexto do Tabuleiro - </h4>
<p>No projeto, o padrão Multiton é aplicado por meio da classe <code>Time</code>, que mantém um mapa estático de instâncias únicas para cada nome de time. Assim, sempre que for necessário criar um time, é necessário chamar o método <code>getInstance</code> passando como parâmetro o nome do time. Caso esse time exista, o método vai retornar o mesmo. Caso não exista, o método cria o novo time. Isso garante unicidade e centralização do controle dos times, permitindo que cada time seja identificado de forma única e reutilizável em todo o sistema.</p>
<p>Exemplo simplificado da implementação real:</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-package">package</span> <span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>padroes<span class="token punctuation">.</span>criacionais<span class="token punctuation">.</span>multiton</span><span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Time</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-final">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Time</span><span class="token punctuation">&gt;</span></span> times <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> <span class="token class-name">String</span> nome<span class="token punctuation">;</span>

    <span class="token keyword keyword-private">private</span> <span class="token class-name">Time</span><span class="token punctuation">(</span><span class="token class-name">String</span> nome<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>nome <span class="token operator">=</span> nome<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token class-name">Time</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token class-name">String</span> nome<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> times<span class="token punctuation">.</span><span class="token function">computeIfAbsent</span><span class="token punctuation">(</span>nome<span class="token punctuation">,</span> <span class="token class-name">Time</span><span class="token operator">::</span><span class="token keyword keyword-new">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> nome<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Uso típico:</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token class-name">Time</span> branco <span class="token operator">=</span> <span class="token class-name">Time</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">"Branco"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Time</span> preto <span class="token operator">=</span> <span class="token class-name">Time</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">"Preto"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Time</span> azul <span class="token operator">=</span> <span class="token class-name">Time</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">"Azul"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Garantido que "Azul" será único</span>
</code></pre><h5 id="uml-com-multiton--">UML com multiton - </h5>
<p><img src="../out/DiagramasIMG/motivacao_com_multiton.png" alt="out/DiagramasIMG/motivacao_com_multiton.png">&gt;</p>
<p>Com o Multiton, declaramos instâncias únicas para representar os times, que podem ser usadas em diversas funcionalidades do sistema. O acesso é centralizado e consistente, evitando duplicidade e facilitando a manutenção.</p>
<h4 id="participantes---3">Participantes - </h4>
<ol>
<li><strong>Multiton:</strong> Classe <code>Time</code> -&gt; mantém instâncias únicas para cada nome de time;</li>
<li><strong>Client:</strong> (Tabuleiro), Peca -&gt; classes que utilizam as instâncias do multiton.</li>
</ol>
<h3 id="singleton">Singleton </h3>
<h4 id="intenção---4">Intenção - </h4>
<p>Garantir que uma classe possua apenas uma instância e provê um ponto de acesso global a ela.</p>
<h4 id="motivação-sem-o-singleton--">Motivação sem o Singleton - </h4>
<p>Sem a aplicação do padrão, seria possível a criação de várias instâncias da sessão do jogo causando duplicidade e falta de controle já que haveria múltiplos jogos criados sem a centralização desses.</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-package">package</span> <span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>padroes<span class="token punctuation">.</span>criacionais<span class="token punctuation">.</span>singleton</span><span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>game<span class="token punctuation">.</span></span><span class="token class-name">Jogador</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>game<span class="token punctuation">.</span></span><span class="token class-name">Tabuleiro</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * Classe GameSession SEM o padrão Singleton.
 * Permite múltiplas instâncias da sessão do jogo.
 */</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">GameSession</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">Jogador</span> jogador1<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">Jogador</span> jogador2<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">Tabuleiro</span> tabuleiro<span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * Construtor público, permitindo várias instâncias.
     * <span class="token keyword keyword-@param">@param</span> <span class="token parameter">jogador1</span> Jogador 1
     * <span class="token keyword keyword-@param">@param</span> <span class="token parameter">jogador2</span> Jogador 2
     * <span class="token keyword keyword-@param">@param</span> <span class="token parameter">tabuleiro</span> Tabuleiro do jogo
     */</span>
    <span class="token keyword keyword-public">public</span> <span class="token class-name">GameSession</span><span class="token punctuation">(</span><span class="token class-name">Jogador</span> jogador1<span class="token punctuation">,</span> <span class="token class-name">Jogador</span> jogador2<span class="token punctuation">,</span> <span class="token class-name">Tabuleiro</span> tabuleiro<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>jogador1 <span class="token operator">=</span> jogador1<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>jogador2 <span class="token operator">=</span> jogador2<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>tabuleiro <span class="token operator">=</span> tabuleiro<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">Jogador</span> <span class="token function">getJogador1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> jogador1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">Jogador</span> <span class="token function">getJogador2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> jogador2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">Tabuleiro</span> <span class="token function">getTabuleiro</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> tabuleiro<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">configurarTimes</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> nomesTimes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> nomeTime <span class="token operator">:</span> nomesTimes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tabuleiro<span class="token punctuation">.</span><span class="token function">registrarTime</span><span class="token punctuation">(</span>nomeTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h5 id="uml-sem-singleton">UML sem singleton </h5>
<p><img src="../out/DiagramasIMG/motivacao_com_multiton.png" alt="out/DiagramasIMG/motivacao_com_multiton.png">&gt;</p>
<h4 id="motivação-no-contexto-do-gamesession--">Motivação no contexto do GameSession - </h4>
<p>Unicidade da sessão do jogo já que ele é um recurso central e único, varias instâncias dele causaria inconsistência no estado do jogo. Com o acesso global, outras partes do sistema, peças, jogadores, regras... podem interagir de forma consistente.</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-package">package</span> <span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>padroes<span class="token punctuation">.</span>criacionais<span class="token punctuation">.</span>singleton</span><span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>game<span class="token punctuation">.</span></span><span class="token class-name">Jogador</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>game<span class="token punctuation">.</span></span><span class="token class-name">Tabuleiro</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * Classe Singleton responsável por gerenciar a sessão do jogo.
 * Garante que apenas uma instância de GameSession exista durante a execução.
 */</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">GameSession</span> <span class="token punctuation">{</span>
    <span class="token comment">// Jogador 1 da sessão</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">Jogador</span> jogador1<span class="token punctuation">;</span>
    <span class="token comment">// Jogador 2 da sessão</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">Jogador</span> jogador2<span class="token punctuation">;</span>
    <span class="token comment">// Tabuleiro associado à sessão</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">Tabuleiro</span> tabuleiro<span class="token punctuation">;</span>
    <span class="token comment">// Instância única da sessão (Singleton)</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token class-name">GameSession</span> instance<span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * Construtor privado para impedir instanciação externa.
     * <span class="token keyword keyword-@param">@param</span> <span class="token parameter">jogador1</span> Jogador 1
     * <span class="token keyword keyword-@param">@param</span> <span class="token parameter">jogador2</span> Jogador 2
     * <span class="token keyword keyword-@param">@param</span> <span class="token parameter">tabuleiro</span> Tabuleiro do jogo
     */</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">GameSession</span><span class="token punctuation">(</span><span class="token class-name">Jogador</span> jogador1<span class="token punctuation">,</span> <span class="token class-name">Jogador</span> jogador2<span class="token punctuation">,</span> <span class="token class-name">Tabuleiro</span> tabuleiro<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>jogador1 <span class="token operator">=</span> jogador1<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>jogador2 <span class="token operator">=</span> jogador2<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>tabuleiro <span class="token operator">=</span> tabuleiro<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * Obtém a instância única de GameSession, criando-a se necessário.
     * <span class="token keyword keyword-@param">@param</span> <span class="token parameter">jogador1</span> Jogador 1
     * <span class="token keyword keyword-@param">@param</span> <span class="token parameter">jogador2</span> Jogador 2
     * <span class="token keyword keyword-@param">@param</span> <span class="token parameter">tabuleiro</span> Tabuleiro do jogo
     * <span class="token keyword keyword-@return">@return</span> Instância única de GameSession
     */</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-synchronized">synchronized</span> <span class="token class-name">GameSession</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token class-name">Jogador</span> jogador1<span class="token punctuation">,</span> <span class="token class-name">Jogador</span> jogador2<span class="token punctuation">,</span> <span class="token class-name">Tabuleiro</span> tabuleiro<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            instance <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">GameSession</span><span class="token punctuation">(</span>jogador1<span class="token punctuation">,</span> jogador2<span class="token punctuation">,</span> tabuleiro<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-return">return</span> instance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * Obtém a instância única de GameSession já criada.
     * <span class="token keyword keyword-@return">@return</span> Instância única de GameSession
     * <span class="token keyword keyword-@throws">@throws</span> <span class="token reference"><span class="token class-name">IllegalStateException</span></span> se a sessão ainda não foi inicializada
     */</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-synchronized">synchronized</span> <span class="token class-name">GameSession</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token string">"GameSession ainda não foi inicializada."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-return">return</span> instance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * Retorna o Jogador 1 da sessão.
     * <span class="token keyword keyword-@return">@return</span> Jogador 1
     */</span>
    <span class="token keyword keyword-public">public</span> <span class="token class-name">Jogador</span> <span class="token function">getJogador1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> jogador1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * Retorna o Jogador 2 da sessão.
     * <span class="token keyword keyword-@return">@return</span> Jogador 2
     */</span>
    <span class="token keyword keyword-public">public</span> <span class="token class-name">Jogador</span> <span class="token function">getJogador2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> jogador2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * Retorna o tabuleiro da sessão.
     * <span class="token keyword keyword-@return">@return</span> Tabuleiro
     */</span>
    <span class="token keyword keyword-public">public</span> <span class="token class-name">Tabuleiro</span> <span class="token function">getTabuleiro</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> tabuleiro<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * Configura os times no tabuleiro a partir dos nomes fornecidos.
     * <span class="token keyword keyword-@param">@param</span> <span class="token parameter">nomesTimes</span> Lista de nomes dos times
     */</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">configurarTimes</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> nomesTimes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> nomeTime <span class="token operator">:</span> nomesTimes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tabuleiro<span class="token punctuation">.</span><span class="token function">registrarTime</span><span class="token punctuation">(</span>nomeTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * Reseta a instância da sessão, permitindo nova inicialização.
     */</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-synchronized">synchronized</span> <span class="token keyword keyword-void">void</span> <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        instance <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h5 id="uml-com-singleton">UML com singleton </h5>
<p><img src="../out/DiagramasIMG/motivacao_com_singleton.png" alt="out/DiagramasIMG/motivacao_com_singleton.png"></p>
<h4 id="participantes---4">Participantes - </h4>
<ol>
<li><strong>Singleton:</strong><br>
Representado pela classe <strong>GameSession</strong> através de uma construtor privado, um método estático getInstance() que retorna a instância única dessa classe.</li>
<li><strong>Client:</strong><br>
Classes que utilizam a instância única da sessão do jogo para acessar ou modificar seu estado. Exemplos de clients incluem as classes que representam os <strong>jogadores</strong>, <strong>regras do jogo</strong> e qualquer outro componente que precise interagir com a sessão centralizada do jogo. Esses clients acessam a instância de <code>GameSession</code> por meio do método estático <code>getInstance()</code>.</li>
</ol>
<h2 id="padrões-estruturais">Padrões Estruturais </h2>
<h3 id="decorator">Decorator </h3>
<h4 id="intenção---5">Intenção - </h4>
<p>Permitir adicionar responsabilidades a um objeto de forma dinâmica, fornecendo uma alternativa flexível à subclasse para estender funcionalidades.</p>
<h4 id="motivação-sem-o-padrão---3">Motivação sem o padrão - </h4>
<p>Sem o padrão Decorator, para adicionar novos comportamentos a uma peça (por exemplo, promover um peão), seria necessário criar subclasses específicas para cada combinação de comportamentos, aumentando a complexidade e dificultando a manutenção.</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token comment">// Exemplo sem Decorator</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">PeaoPromovidoRainha</span> <span class="token keyword keyword-extends">extends</span> <span class="token class-name">Peao</span> <span class="token punctuation">{</span>
    <span class="token comment">// Implementação duplicada ou alterada para representar a promoção</span>
<span class="token punctuation">}</span>
</code></pre><h5 id="uml-sem-decorator--">UML sem Decorator - </h5>
<p><img src="../out/DiagramasIMG/PecaSemDecorator.png" alt="out/DiagramasIMG/PecaSemDecorator.png"></p>
<h4 id="motivação-no-contexto-do-tabuleiro-1">Motivação no contexto do tabuleiro </h4>
<p>No projeto, o padrão Decorator é aplicado para permitir que peças recebam funcionalidades extras em tempo de execução, como a promoção de um peão. Isso é feito sem alterar a classe original da peça, apenas "envolvendo" a peça original com um decorador.</p>
<p>Exemplo de implementação real:</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token comment">// Decorator base</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">PecaDecorator</span> <span class="token keyword keyword-extends">extends</span> <span class="token class-name">Peca</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-protected">protected</span> <span class="token class-name">Peca</span> pecaDecorada<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">PecaDecorator</span><span class="token punctuation">(</span><span class="token class-name">Peca</span> pecaDecorada<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>pecaDecorada <span class="token operator">=</span> pecaDecorada<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token class-name">String</span> <span class="token function">getNome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> pecaDecorada<span class="token punctuation">.</span><span class="token function">getNome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// ...demais métodos delegados...</span>
<span class="token punctuation">}</span>

<span class="token comment">// Decorator concreto</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">PecaPromovidaDecorator</span> <span class="token keyword keyword-extends">extends</span> <span class="token class-name">PecaDecorator</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token class-name">PecaPromovidaDecorator</span><span class="token punctuation">(</span><span class="token class-name">Peca</span> pecaDecorada<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-super">super</span><span class="token punctuation">(</span>pecaDecorada<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Posicao</span><span class="token punctuation">&gt;</span></span> <span class="token function">obterMovimentosPossiveis</span><span class="token punctuation">(</span><span class="token class-name">Posicao</span> posicaoAtual<span class="token punctuation">,</span> <span class="token class-name">Tabuleiro</span> tabuleiro<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Lógica extra para peça promovida pode ser adicionada aqui</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-super">super</span><span class="token punctuation">.</span><span class="token function">obterMovimentosPossiveis</span><span class="token punctuation">(</span>posicaoAtual<span class="token punctuation">,</span> tabuleiro<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Uso típico:</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token class-name">Peca</span> peao <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span> <span class="token comment">// Peça original</span>
<span class="token class-name">Peca</span> peaoPromovido <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">PecaPromovidaDecorator</span><span class="token punctuation">(</span>peao<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Adiciona comportamento de promoção</span>
</code></pre><h5 id="uml-com-decorator">UML com Decorator </h5>
<p><img src="../out/DiagramasIMG/PecaDecorator.png" alt="out/DiagramasIMG/PecaDecorator.png"></p>
<p>Com o Decorator, é possível estender funcionalidades das peças de forma flexível e dinâmica, sem criar uma explosão de subclasses.</p>
<h4 id="participantes-4">Participantes </h4>
<ol>
<li><strong>Componente:</strong> <code>Peca</code> — define a interface dos objetos que podem receber responsabilidades adicionais.</li>
<li><strong>Decorator:</strong> <code>PecaDecorator</code> — implementa a interface de <code>Peca</code> e mantém uma referência para um objeto <code>Peca</code>.</li>
<li><strong>ConcreteDecorator:</strong> <code>PecaPromovidaDecorator</code> — adiciona responsabilidades ao componente.</li>
<li><strong>Cliente:</strong> Código que utiliza as peças decoradas.</li>
</ol>
<h3 id="proxy">Proxy </h3>
<h4 id="intenção---6">Intenção - </h4>
<p>atuar como intermediário entre o cliente e um objeto real, controlando o acesso a ele.</p>
<h4 id="motivação-sem-o-padrão---4">Motivação Sem o Padrão - </h4>
<p>Sem o Proxy as classes <em>Peca</em> e <em>VitoriaDerrotaObserver</em> teriam que interagir diretamente com o objeto real <em>Tabuleiro</em>. Isso levaria a falta de controle de acesso já que não há uma camada intermediária para validar as ações antes executar. Operações inválidas poderiam ser realizadas no <em>Tabuleiro</em> e as lógicas de validações teriam de ser implementadas direto nessa classe.</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-package">package</span> <span class="token namespace">br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>xadrez<span class="token punctuation">.</span>board</span><span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>xadrez<span class="token punctuation">.</span>pieces<span class="token punctuation">.</span></span><span class="token class-name">Peca</span></span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Tabuleiro</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">Peca</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pecas<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">Tabuleiro</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        pecas <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Peca</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">colocarPeca</span><span class="token punctuation">(</span><span class="token class-name">Peca</span> peca<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Sem validações</span>
        pecas<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> peca<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token class-name">Peca</span> <span class="token function">obterPeca</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> pecas<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h5 id="uml-sem-proxy--">UML sem Proxy - </h5>
<p><img src="../out/DiagramasIMG/TabuleiroSemProxy.png" alt="out/DiagramasIMG/TabuleiroSemProxy.png">&gt;</p>
<h4 id="motivação-no-contexto-do-tabuleiro---3">Motivação no Contexto do tabuleiro - </h4>
<p>No framework, o padrão Proxy é aplicado através da classe <code>TabuleiroProxySecurity</code>, que implementa a interface <code>TabuleiroInterface</code> e atua como camada intermediária entre o cliente e o objeto real <code>Tabuleiro</code>. O Proxy é responsável por realizar validações de estado do jogo (como se o jogo foi iniciado, se a posição é válida, se a casa está ocupada, etc.) antes de delegar as operações ao Tabuleiro real. Além disso, o Proxy é implementado como Singleton, garantindo uma única instância de controle de acesso ao tabuleiro.</p>
<p>Exemplo simplificado da implementação real:</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-package">package</span> <span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>padroes<span class="token punctuation">.</span>estruturais<span class="token punctuation">.</span>proxy</span><span class="token punctuation">;</span>

<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>game<span class="token punctuation">.</span></span><span class="token class-name">Casa</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>game<span class="token punctuation">.</span></span><span class="token class-name">Peca</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>game<span class="token punctuation">.</span></span><span class="token class-name">Posicao</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>game<span class="token punctuation">.</span></span><span class="token class-name">TabuleiroInterface</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>padroes<span class="token punctuation">.</span>comportamentais<span class="token punctuation">.</span>state<span class="token punctuation">.</span></span><span class="token class-name">ContextoJogo</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>padroes<span class="token punctuation">.</span>comportamentais<span class="token punctuation">.</span>state<span class="token punctuation">.</span></span><span class="token class-name">EstadoIniciado</span></span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token import"><span class="token namespace">main<span class="token punctuation">.</span>java<span class="token punctuation">.</span>br<span class="token punctuation">.</span>com<span class="token punctuation">.</span>frameworkPpr<span class="token punctuation">.</span>boardgame<span class="token punctuation">.</span>padroes<span class="token punctuation">.</span>comportamentais<span class="token punctuation">.</span>state<span class="token punctuation">.</span></span><span class="token class-name">EstadoJogo</span></span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">TabuleiroProxySecurity</span> <span class="token keyword keyword-implements">implements</span> <span class="token class-name">TabuleiroInterface</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-int">int</span> linhas<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-int">int</span> colunas<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token class-name">TabuleiroProxySecurity</span> proxyInstance<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">ContextoJogo</span> contexto<span class="token punctuation">;</span>

    <span class="token keyword keyword-private">private</span> <span class="token class-name">TabuleiroProxySecurity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>contexto <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">ContextoJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token class-name">TabuleiroProxySecurity</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-synchronized">synchronized</span> <span class="token punctuation">(</span><span class="token class-name">TabuleiroProxySecurity</span><span class="token punctuation">.</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>proxyInstance <span class="token operator">==</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                proxyInstance <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">TabuleiroProxySecurity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-return">return</span> proxyInstance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-void">void</span> <span class="token function">verificarEstadoPermitido</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>contexto<span class="token punctuation">.</span><span class="token function">getEstadoAtual</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-instanceof">instanceof</span> <span class="token class-name">EstadoIniciado</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token string">"Ação não permitida no estado atual do jogo: "</span> <span class="token operator">+</span> contexto<span class="token punctuation">.</span><span class="token function">getEstadoAtual</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">inicializarCasas</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> linhas<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> colunas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// validações...</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">colocarPeca</span><span class="token punctuation">(</span><span class="token class-name">Peca</span> peca<span class="token punctuation">,</span> <span class="token class-name">Posicao</span> posicao<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Posicao</span><span class="token punctuation">,</span> <span class="token class-name">Casa</span><span class="token punctuation">&gt;</span></span> casas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">verificarEstadoPermitido</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// validações de posição e ocupação...</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">moverPeca</span><span class="token punctuation">(</span><span class="token class-name">Posicao</span> origem<span class="token punctuation">,</span> <span class="token class-name">Posicao</span> destino<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Posicao</span><span class="token punctuation">,</span> <span class="token class-name">Casa</span><span class="token punctuation">&gt;</span></span> casas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">verificarEstadoPermitido</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// validações de origem/destino...</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">removerPeca</span><span class="token punctuation">(</span><span class="token class-name">Posicao</span> posicao<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">verificarEstadoPermitido</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// validações...</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Métodos para iniciar, pausar, finalizar e reiniciar o jogo delegando ao ContextoJogo</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">iniciarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> contexto<span class="token punctuation">.</span><span class="token function">iniciarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">pausarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> contexto<span class="token punctuation">.</span><span class="token function">pausarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">finalizarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> contexto<span class="token punctuation">.</span><span class="token function">finalizarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> <span class="token function">reiniciarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> contexto<span class="token punctuation">.</span><span class="token function">reiniciarJogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>No projeto, o <code>Tabuleiro</code> utiliza o Proxy para todas as operações sensíveis, garantindo que as regras de negócio e validações estejam centralizadas e desacopladas da lógica principal do tabuleiro.</p>
<h5 id="uml-com-proxy--">UML com Proxy - </h5>
<p><img src="../out/DiagramasIMG/TabuleiroComProxy.png" alt="out/DiagramasIMG/TabuleiroComProxy.png">&gt;</p>
<h4 id="participantes---5">Participantes - </h4>
<ol>
<li><strong>Proxy:</strong> TabuleiroProxySecurity -&gt; atua como intermediário entre o cliente e o objeto real, validando e controlando o acesso ao Tabuleiro. Implementa a interface TabuleiroInterface e é Singleton.</li>
<li><strong>Objeto real:</strong> Tabuleiro -&gt; contém a lógica principal do jogo, como gerenciar casas, peças e as interações. O <em>TabuleiroProxySecurity</em> delega as operações ao <em>Tabuleiro</em> após realizar as validações necessárias.</li>
<li><strong>Cliente:</strong> Peca, VitoriaDerrotaObserver -&gt; e demais classes que interagem com o tabuleiro por meio do proxy.</li>
</ol>
<h3 id="façade">Façade </h3>
<h4 id="intenção-4">Intenção </h4>
<p>[^GAMA]</p>
<ul>
<li>Fornecer uma interface unificada para um conjunto de interfaces em um subsistema.</li>
<li>O Façade define uma interface de nível mais alto que torna o subsistema mais fácil de ser usado.</li>
</ul>
<h4 id="motivação">Motivação </h4>
<ul>
<li>Em um framework de tabuleiro, é necessário um ponto de entrada para acessar outras camadas e subsistemas, facilitando a implementação de regras de negócio.</li>
</ul>
<h5 id="sem-o-façade">Sem o Façade </h5>
<ul>
<li>
<p>As classes que utilizam o tabuleiro precisariam interagir diretamente com suas dependências internas, como <code>Casa</code>, <code>Posicao</code> e <code>Peca</code>. Além disso, as regras de negócio seriam densas, misturando validação, registro, gerenciamento de vitória e demais implementações em si mesmas.</p>
</li>
<li>
<p>Isso resultaria em:</p>
<ul>
<li>Alto acoplamento entre as classes.</li>
<li>Maior complexidade para os consumidores do subsistema.</li>
<li>Classe <code>Tabuleiro</code> densa, o que dificultaria manutenções.</li>
<li>Perda da flexibilidade do tabuleiro.</li>
</ul>
</li>
</ul>
<h6 id="uml-sem-façade">UML sem Façade </h6>
<p><img src="../out/DiagramasIMG/TabuleiroSemFa%C3%A7ade.png" alt="out/DiagramasIMG/TabuleiroSemFaçade.png"></p>
<h5 id="com-o-façade">Com o Façade </h5>
<ul>
<li>
<p>A classe <code>Tabuleiro</code> atua como o Façade, fornecendo uma interface simplificada que gerencia o estado do tabuleiro, as regras de negócio, o posicionamento de casas e demais subsistemas do mesmo.</p>
</li>
<li>
<p>Nesse sentido, além de conter sua própria lógica, a classe delega responsabilidades específicas, como validações, para outras classes (ex.: <code>TabuleiroProxySecurity</code>, <code>Time</code>, <code>VitoriaDerrotaObserver</code>, <code>TabuleiroMemento</code>), escondendo a complexidade do subsistema. Isso explicita a aplicação do princípio da responsabilidade única, uma vez que o tabuleiro delega responsabilidades a cada subsistema.</p>
</li>
<li>
<p>A classe <code>Tabuleiro</code> fornece métodos de alto nível, como:</p>
<ul>
<li><code>colocarPeca</code>: Adiciona uma peça ao tabuleiro em uma posição válida.</li>
<li><code>moverPeca</code>: Move uma peça de uma posição para outra, verificando as regras de negócio.</li>
<li><code>removerPeca</code>: Remove uma peça do tabuleiro, atualizando o estado.</li>
</ul>
</li>
<li>
<p>Esses métodos encapsulam a lógica interna e delegam as atribuições (explicitadas na seção de Participantes).</p>
</li>
<li>
<p>Isso resulta em:</p>
<ul>
<li>Redução do acoplamento entre as classes.</li>
<li>Uso simplificado do subsistema.</li>
<li>Maior flexibilidade.</li>
</ul>
</li>
</ul>
<h6 id="uml-com-o-façade">UML com o Façade </h6>
<p><img src="../out/DiagramasIMG/TabuleiroComFacade.png" alt="out/DiagramasIMG/TabuleiroComFacade.png"></p>
<h4 id="participantes-5">Participantes </h4>
<ul>
<li><strong>Façade (<code>Tabuleiro</code>)</strong>
<ul>
<li>Conhece quais classes do subsistema são responsáveis pelo atendimento de solicitações.</li>
</ul>
</li>
<li><strong>Classes de Subsistema</strong> (<code>TabuleiroProxySecurity</code>, <code>Time</code>, <code>VitoriaDerrotaObserver</code>, <code>TabuleiroMemento</code>)
<ul>
<li>Implementam a funcionalidade do subsistema.</li>
<li>Encarregam-se do trabalho atribuído pelo Façade:
<ul>
<li><strong><code>TabuleiroProxySecurity</code>:</strong> Realiza validações de segurança e controle de acesso.</li>
<li><strong><code>Time</code>:</strong> Gerencia os times e suas peças.</li>
<li><strong><code>VitoriaDerrotaObserver</code>:</strong> Observa eventos para determinar condições de vitória ou derrota.</li>
<li><strong><code>TabuleiroMemento</code>:</strong> Permite salvar e restaurar o estado do tabuleiro.</li>
</ul>
</li>
<li>Não têm conhecimento do Façade; isto é, não mantêm referências para ele.</li>
</ul>
</li>
</ul>
<h3 id="flyweight">Flyweight </h3>
<h4 id="intenção-5">Intenção </h4>
<p>O padrão Flyweight tem como objetivo compartilhar objetos para economizar memória, especialmente quando muitos objetos semelhantes são criados. Ele separa o estado compartilhado (intrínseco) do estado específico de cada instância (extrínseco).</p>
<h4 id="motivação-sem-o-flyweight">Motivação sem o Flyweight </h4>
<p>Sem o uso do Flyweight, cada casa, peça ou posição do tabuleiro seria representada por um novo objeto, mesmo que compartilhassem os mesmos atributos (ex: cor, tipo, posição). Isso resultaria em alto consumo de memória e redundância de dados.</p>
<h5 id="uml-sem-flyweight">UML sem Flyweight </h5>
<p><img src="../out/DiagramasIMG/TabuleiroSemFlyweight.png" alt="out/DiagramasIMG/TabuleiroSemFlyweight.png"></p>
<h4 id="motivação-no-contexto-do-tabuleiro-2">Motivação no contexto do tabuleiro </h4>
<p>No contexto do tabuleiro, existem muitas casas, peças e posições que podem ser reutilizadas. O padrão Flyweight permite que objetos com o mesmo estado sejam compartilhados, otimizando o uso de memória e melhorando a performance do sistema.</p>
<h5 id="uml-com-flyweight">UML com Flyweight </h5>
<p><img src="../out/DiagramasIMG/TabuleiroComFlyweight.png" alt="out/DiagramasIMG/TabuleiroComFlyweight.png"></p>
<h4 id="participantes-6">Participantes </h4>
<ul>
<li><strong>Flyweight (CasaFlyweight, PecaFlyweight):</strong> Interface para os objetos compartilhados.</li>
<li><strong>ConcreteFlyweight (CasaConcretaFlyweight, PecaConcretaFlyweight, PosicaoFlyweight):</strong> Implementação do Flyweight, armazena o estado intrínseco.</li>
<li><strong>FlyweightFactory (CasaFlyweightFactory, PecaFlyweighFactory, PosicaoFlyweightFactory):</strong> Garante o compartilhamento dos objetos.</li>
<li><strong>Cliente:</strong> Solicita objetos às fábricas e utiliza os Flyweights.</li>
</ul>
<hr>
<h2 id="referências">Referências </h2>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>KASPCHUK, Alexandre; PLEIN, Tiago. K19 - Design Patterns em Java. São Paulo: K19 Treinamentos, 2012. <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>